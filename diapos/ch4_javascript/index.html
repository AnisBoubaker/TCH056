<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>CH04- Javascript | TCH056</title>

		<base target="_blank">

		<link rel="stylesheet" href="../revealjs/reset.css">
		<link rel="stylesheet" href="../revealjs/reveal.css">
		<link rel="stylesheet" href="../revealjs/theme/ets.css" id="theme">
		<link rel="stylesheet" href="../revealjs/theme/normalize.css">
		<link rel="stylesheet" href="./css/examples_general.css">
		<link rel="stylesheet" href="./css/examples.css">
		<link rel="stylesheet" href="../timeline/css/timeline.min.css" />
		<link rel="stylesheet" href="./ch4.css" />
		<link rel="stylesheet" href="../jqtree.css" />

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../revealjs/plugin/highlight/docco.css" id="highlight-theme">

		<script src="../jquery-3.6.4.min.js"></script>
		<script src="./ch4.js"></script>
	</head>
	<body>
		<!--
					
		-->
		<div class="reveal">
			<div id="slide_nb" style="display:none;">Attention...</div>
			<div class="titre_cours">TCH056 - Programmation Web</div>
			<div class="slides">
				<section>
					<img src='../images/logo_ets.png' />
					<h4 class="">TCH056 - Programmation Web</h4>
					<h2 class="r-fit-text">&lt;Chapitre 04&gt; Javascript</h2>
					<br /><br />
					<p>
						<strong>Anis Boubaker, Ph.D.</strong><br />
						<em>Prof. Enseignant en informatique</em>
					</p>
				</section>

			<!-- Plan du chapitre -->
			<section  data-transition="convex"> 
				<h2>Plan du chapitre</h2>
				<div class="two_columns_layout">
					<div class="col menu-principal">
						<ul class="">
							<li class="plan-current">Introduction</li>
							<li>Éléments de base du langage</li>
							<li>Manipulation du DOM</li>
							<li>Programmation événementielle</li>
							<li>Cadriciels et librairies</li>
						</ul>
					</div>
					<div class="col sous-menu">
						<ul style="margin:0">
							<li>Historique</li>
							<li>Motivation</li>
							<li>Normes</li>
							<li>Syntaxe de base</li>
							<li>Comment inclure du Javascript?</li>
						</ul>
					</div>
				</div>
			</section>
<!-- Introduction -->
				<section style="background: fixed url(./images/eich.jpeg) bottom right no-repeat;">
					<h2>Genèse du langage</h2>
					<div style="min-height: 70vh; width: 58%; border: 10px solid #000; text-align: initial;">
						<time style="display: inline-block; margin:0 10px 0 0; background: #000; color: #fff; padding: 5px;">1995</time>
						<span>Créé en 10 jours par Brendan Eich, un employé de Netscape.</span><br /><br />
						<span><em>JavaScript (JS) had to “look like Java” only less so, be Java’s dumb kid brother or boy-hostage sidekick. Plus, I had to be done in ten days or something worse than JS would have happened</em></span>
					</div>
				</section>

				<section data-menu-title="Java vs Javascript">
					<img src="./images/java-vs-javascript.png" >
				</section>

				<section>
					<h2>Historique</h2>
					<span class="note">Faites défiler la ligne du temps avec la flèche.
						<i>Rechargez la page si la ligne du temps ne s'affiche pas.</i></span>
					<div class="timeline" data-mode="horizontal"  data-force-vertical-mode="600">
						<div class="timeline__wrap">
							<div class="timeline__items">
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>1996 - Version 1.0</strong><br />
										Intégrée dans Netscape 2
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>1997 - Première norme (ECMA)</strong><br />
										ECMAScript1 (ES1)<br />
										IE4 est le premier navigateur à l'implémenter
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>1998 - Javascript 1.3</strong><br />
										Netscape continue le développement indépendant de Javascript pour son navigateur
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>1999</strong><br />
										ECMAScript 3 (ES3)
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>2000 - Firefox et Javascript 1.5</strong><br />
										La fondation Mozilla effectue une refonte de Netscape: le navigateur Firefox qui inclut JS 1.5
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>2008-2009 - ES5</strong><br />
										Abandon de ES4 et sortie de ES5
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>2015 - ES6</strong><br />
										Sortie de ES6 qui comporte l'essentiel des améliorations modernes du langage
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>2018</strong><br />
										Support de ES6 dans tous les navigateurs modernes (sauf IE11)
									</div>
								</div>
								<div class="timeline__item">
									<div class="timeline__content">
										<strong>Aujourd'hui</strong><br />
										Chaque année une version de ECMAScript est publiée (ES 20xx) rendant l'évolution du langage plus agile.
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>

				<section>
					<h2>Motivation</h2>
					<ul>
						<li><strong>HTML</strong> nous a permis de définir le contenu</li>
						<li><strong>CSS</strong> nous a permis de définir l'apparence des pages</li>
						<li><strong>Javascript</strong> nous permettra d'ajouter des aspects dynamiques à nos pages. Ex.: 
							<ul>
								<li>Réagir aux actions de l'usager</li>
								<li>Charger du contenu dynamiquement</li>
								<li>Animations</li>
								<li>...</li>
							</ul>
						</li>
					</ul>
				</section>

				<section  data-vertical-align-top>
					<h2>Environnements </h2>
					<p  style="font-family: 'GloriaHallelujah', Marker Felt, cursive;">Le seul langage de programmation qui s'exécute dans un navigateur! mais aussi...</p>
					<div class="two_columns_layout" style="padding-top: 20px;">
						<div class="col fragment">
							<h4>Côté serveur</h4>
							<a href="https://nodejs.org/fr" target="_blank"><img src="./images/nodejs-image.png" ></a>
						</div>
						<div class="col fragment">
							<h4>Applications de bureau</h4>
							<a href="https://www.electronjs.org/fr" target="_blank"><img src="./images/electron-logo.svg" ></a>
						</div>
					</div>
				</section>

				<section>
					<h2>Un langage populaire</h2>
					<p class="note">Sondage <a href="https://survey.stackoverflow.co/2022/" target="_blank">StackOverflow 2022</a>, mené auprès des développeurs</p>
					<img class="stretch" src="./images/classement_langages-stackoverflow_2022.png">
				</section>

				<section>
					<h2>Une syntaxe connue...</h2>
					<div style="display:grid; grid-template-columns: repeat(2, 50%);">
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							// Instructions se terminent 
							// par un ;
							instruction;
							instruction;
							instruction;
							...
						</script></code></pre>
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							/* Blocs délimités 
								par des { } */
							if( condition ){
								instructions ;
							}
						</script></code></pre>
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							/* Les boucles 
							   traditionnelles (for, 
							   while, do..while) */
							for(init; cond; incr){
								... instructions ...
							}
						</script></code></pre>
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							/* Le mot clé "function" 
								pour définir une fonction */
							function nom(arg1, arg2){
								... instructions ...
								return valeur;
							}
						</script></code></pre>
					</div>
				</section>

				<section>
					<h2>Philosophie</h2>
					<div style="display:grid; grid-template-columns: repeat(2, 50%);">
						<div class="col fragment">
							<h4>Tout est objet</h4>
							<ul>
								<li>Les types primitifs</li>
								<li>Les fonctions</li>
								<li>Le code!</li>
							</ul>
						</div>
						<div class="col fragment">
							<h4>Non-typé</h4>
							<ul>
								<li>Typage dynamique (Duck typing)</li>
								<li>Le type est mutable</li>
							</ul>
						</div>
						<div class="col fragment">
							<h4>Prototypal</h4>
							<ul>
								<li>Langage orienté-objet</li>
								<li>Différent des langages OO traditionnels</li>
							</ul>
						</div>
						<div class="col fragment">
							<h4>Événementiel</h4>
							<ul>
								<li>Cycle d'exécution non bloquant basé sur les événement</li>
								<li>Modèle asynchrone</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Javascript: Où dans une page Web?</h2>
					<div class="r-fit">
						<div class="col fragment">
							<h4>Comme attribut (très mauvais!)</h4>
							<pre ><code class="html" data-trim data-line-numbers="2">
								<p>...</p>
								<a onclick="alert('Bonjour le monde!');">Cliquez ici!</a>
							</code></pre>
						</div>
						<div class="col fragment">
							<h4>Balise <em>script</em> (éviter)</h4>
							<pre ><code class="html" data-trim data-line-numbers="2-4">
								<p>...</p>
								&lt;script type="text/javascript">
									alert("Bonjour le monde!");
								&lt;/script>
							</code></pre>
						</div>
						<div class="col fragment">
							<h4>Dans un fichier externe (Mieux!)</h4>
							<pre ><code class="html" data-trim data-line-numbers="2-4"><script type="text/template">
								<head>
									...
									<script type="text/javascript" src="./mon_code.js"></script>
								</head>
							</script></code></pre>
						</div>
						<div class="col fragment">
							<h4>Dans un fichier externe comme module (Parfait!)</h4>
							<pre ><code class="html" data-trim data-line-numbers="2-4"><script type="text/template">
								<head>
									...
									<script type="module" src="./mon_code.js"></script>
								</head>
							</script></code></pre>
						</div>
					</div>
				</section>

				<section>
					<h2>Les attributs `defer` et `async`</h2>
					<ul>
						<li>`defer`: Charger le script en parallèle, l'exécuter après le chargement de la page
							<pre ><code class="html" data-trim><script type="text/template">
								<head>
									<script type="module" src="./mon_code.js" defer></script>
								</head>
							</script></code></pre>
						</li>
						<li>`async`: Charger le script en parallèle, l'exécuter dès qu'il est disponible
							<pre ><code class="html" data-trim><script type="text/template">
								<head>
									<script type="module" src="./mon_code.js" async></script>
								</head>
							</script></code></pre>
						</li>
						<li>
							`async` et `defer`: Le script et chargé et exécuté immédiatement, bloquant le chargement de la page
							<pre ><code class="html" data-trim><script type="text/template">
								<head>
									<script type="module" src="./mon_code.js" async defer></script>
								</head>
							</script></code></pre>
						</li>
					</ul>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-current">Éléments de base du langage</li>
								<li>Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin:0">
								<li class="plan-current">Variables et types de données</li>
								<li>Objets et tableaux</li>
								<li>Chaines de caractères</li>
								<li>Fonctions</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Préambule</h2>
					<ul>
						<li class="fragment">On ne reviendra pas sur la syntaxe évidente (structures conditionnelles et itératives) - c.f. INF155/INF111</li>
						<li class="fragment">Pas de conception OO (classes, prototypes, etc.) mais nous utiliserons des objets existants et leurs propriétés/méthodes</li>
						<li class="fragment">Certains concepts avancés ne seront pas abordés (ex.: fermetures, promesses, async)</li>
					</ul>
				</section>

				<section>
					<h2>Les variables</h2>
					<p>Le mot clé <em>let</em> permet de déclarer une variable.</p>
					<pre><code class="javascript" data-trim><script type="text/template">
						let age = 25;
						let cours = "TCH056";
						let note = 87.5;
					</script></code></pre>
					<p>Les variables sont typées dynamiquement. <br />La fonction <em>typeof</em> permet de déterminer le type inféré:</p>
					<pre><code class="javascript" data-trim><script type="text/template">
						typeof(age)
						>> 'number'
						typeof(cours)
						>> 'string'
						typeof(note)
						>> 'number'
					</script></code></pre>
				</section>

				<section class="slidenb" data-slidenb="Attention...">
					<h2>Le mot clé <em>var</em></h2>
					<p>On peut aussi déclarer des variables avec le mot clé <em>var</em>:</p>
					<pre><code class="javascript" data-trim><script type="text/template">
						var une_variable = 50;
					</script></code></pre>
					<ul>
						<li>Ce mot clé existe encore par compatibilité ascendante</li>
						<li>Il a un fonctionnement particulier (problématique pour le périmètre et l'élévation -- <em>hoisting</em> -- des variable)</li>
						<li class="highlight2">Utilisation à proscrire depuis ES6!</li>
					</ul>
					<aside class="notes">
						<ul>
							<li>tout ce qui est déclaré avec var appartient au scope global</li>
							<li>Comme exemple: prendre une fonction f qui déclare une variable ma_var dans f avec var. Après appel de la fonction, la variable ma_var sera définie et existe dans window.</li>
						</ul>
					</aside>
				</section>

				<section>
					<h2>Les constantes 1/2</h2>
					<p>On déclare une constante avec le mot clé <em>const</em>:</p>
					<pre><code class="javascript" data-trim><script type="text/template">
						const une_constante = { nom: "Valjean", prenom: "Jean" };
					</script></code></pre>
					<p class="fragment highlight2" data-fragment-index="2"><br />Il est possible de modifier les propriétés d'un objet, même si c'est const!</p>
					<pre class="fragment"  data-fragment-index="2"><code class="javascript" data-trim><script type="text/template">
						une_constante.prenom = "Marie";
						
						console.log(une_constante);
						// Affiche: {nom: 'Valjean', prenom: 'Marie'}
					</script></code></pre>
				</section>

				<section class="slidenb" data-slidenb="Bonne pratique!">
					<h2>Les constantes 2/2</h2>
					<ul>
						<li>Il est conseillé de toujours commencer par déclarer les variables de type objet comme constantes</li>
						<li class="fragment">Au besoin, changer la déclaration par un <code>let</code>.
							<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
								const une_constante = { nom: "Valjean", prenom: "Jean" };

								une_constante = convertirEnMajuscules(une_constante);
								//Erreur, il faut modifier la déclaration en let. 
							</script></code></pre>
						</li>
					</ul>
				</section>

				<section class="slidenb" data-slidenb="Bonne pratique!">
					<h2>Les types primitifs</h2>
					<table>
						<thead>
							<tr>
								<th>Type</th>
								<th>Exemples de valeurs</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></td>
								<td>42, 3.24, Infinity, -Infinity, NaN <em>(Not a Number)</em></td>
							</tr>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a></td>
								<td>9007199254740991<strong>n</strong></td>
							</tr>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></td>
								<td>true, false</td>
							</tr>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></td>
								<td>"Hello, world!", 'TCH056'</td>
							</tr>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Undefined">Undefined</a></td>
								<td>Variable non définie (voir plus loin)</td>
							</tr>
							<tr>
								<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Null">null</a></td>
								<td>null= absence intentionnelle de valeur d'objet </td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Booléens et vérité</h2>
					<p>En Javascript, le type boolean existe et peut prendre la valeur <em>true</em> ou <em>false</em></p>
					<pre><code class="javascript" data-trim><script type="text/template">
						let est_majeur = true;
						typeof(est_majeur)
						>> 'boolean'
					</script></code></pre>
					<p>MAIS... Toute valeur "véridique" (<em>truthy</em>) sera considérée comme vraie et une valeur "non-véridique" (<em>falsy</em>) sera considérée comme fausse</p>
				</section>

				<section>
					<h2>Valeur véridique</h2>
					<ul>
						<li class="fragment">Toute valeur n'étant pas <em>false</em>, 0, -0, "", <em>null</em>, <em>undefined</em> et <em>NaN</em>.</li>
						<li class="fragment">Ou encore: toute valeur qui n'est pas <em>true</em> lorsque convertie en Booléen avec <em>Boolean()</em></li>
					</ul>
					<p></p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						Boolean(10)
						>> true
						Boolean("0")
						>> true
						Boolean(0)
						>> false
						Boolean(undefined)
						>> false
					</script></code></pre>
				</section>

				<section class="slidenb" data-slidenb="Mêlant...">
					<h2><em>null</em> et <em>undefined</em>??</h2>
					<ul>
						<li class="fragment">
							<em>undefined</em> est un <strong>type</strong> associé aux variables inexistantes et aux variables qui n'ont pas reçu de valeur.
							<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
								typeof(var_inexistante)
								>> undefined
								let une_variable; //Non définie
								typeof(une_variable)
								>> undefined
								une_variable = 10;
								typeof(une_variable)
								>> 'number'
							</script></code></pre>
						</li>
						<li class="fragment">
							<em>null</em> est un <strong>objet</strong> qu'on affecte à une variable pour indiquer qu'elle a une valeur nulle.
							<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
								let ma_variable = null;
								typeof(ma_variable); >> 'object'
							</script></code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Undefined c'est aussi...</h2>
					<ul>
						<li>La valeur de propriétés inexistantes dans un objet</li>
						<li>La valeur de retour d'une fonction qui ne retourne rien (de type <code>void</code>)</li>
					</ul>
				</section>

				<section>
					<h2>Conversion explicite de types</h2>
					<p>Les fonctions <em>Boolean()</em>, Number() et String() permettent de convertir entre type de données (<em>type casting</em>):</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let note = '85.5'
						let moyenne = (Number(note) + 95) / 2
					</script></code></pre>
				</section>

				<section class="slidenb" data-slidenb="Très mêlant!">
					<h2>Conversion implicite de types</h2>
					<ul>
						<li class="fragment">Javascript étant un langage typé dynamiquement, des conversion ont lieu automatiquement dès qu'on effectue des opérations entre données de type différents.</li>
						<li class="fragment">La logique de conversion n'est pas toujours intuitive...</li>
					</ul>
					<p></p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						'10' / 5
						>> 2   //Résultat number
						'80' + 15
						>> '8015' //Résultat string
						true || null
						>> true //Résultat boolean
						true && null
						>> null //Résultat object
					</script></code></pre>
					<aside class="notes">
						D'autres bizarreries sur https://wtfjs.com...
					</aside>
				</section>

				<section class="slidenb" data-slidenb="Très mêlant!">
					<h2>Opérations Booléennes</h2>
					<ul>
						<li>Le résultat d'une opération Booléenne (ex.: &&, ||) n'est pas obligatoirement une valeur Booléenne.</li>
					</ul>
					<p></p>
					<table>
						<tr>
							<th>Expression</th>
							<th>Résultat</th>
						</tr>
						<tr>
							<td>a && b</td>
							<td>
								b si Boolean(a) est true, sinon a.
							</td>
						</tr>
						<tr>
							<td>a || b</td>
							<td>
								a si Boolean(a) est true, sinon b.
							</td>
						</tr>
					</table>
				</section>

				<section>
					<h2>Opérateur de comparaison <code>==</code></h2>
					<ul>
						<li>Comme en C et en Java, on compare des valeurs avec l'opérateur `<code>==</code>`
							<pre><code class="javascript" data-trim><script type="text/template">
								let a = 10; 
								console.log(a == 10 ); //true
								console.log(a == 15 ); //false
								console.log( 'bonjour' == 'allô'); //false
								console.log( 'bonjour' == 'bonjour'); //true
							</script></code></pre>
						</li>
						<li class="fragment" data-fragment-index="2">Cependant, cet opérateur tentera de convertir les valeurs comparées si elles ne sont pas de même Type
							<pre class="fragment"  data-fragment-index="2"><code class="javascript" data-trim><script type="text/template">
								console.log( 0 == '0' ); //true
								console.log( 10.0 == 10 ); //true
								console.log( 4.5 == '4.5' ); //true
							</script></code></pre>
						</li>
					</ul>
					
				</section>
				<section>
					<h2>Opérateur de comparaison <code>===</code></h2>
					<ul>
						<li>L'opérateur `<code>===</code>` donnera une valeur vraie si les deux valeurs sont égales ET de même type 
							<pre class=""><code class="javascript" data-trim><script type="text/template">
								console.log( 10 === 10 ); //true
								console.log( 10 === '10' ); //false
							</script></code></pre>
						</li>
						<li class="fragment highlight2">Il est toujours conseillé d'utilise <code>===</code> pour tester l'égalité, sauf exception où le comportement du `==` est souhaitable.</li>
					</ul>
					
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-current">Éléments de base du langage</li>
								<li>Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin:0">
								<li class="plan-visited">Variables et types de données</li>
								<li class="plan-current">Objets et tableaux</li>
								<li>Chaines de caractères</li>
								<li>Fonctions</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Définition d'un objet</h2>
					<p>Un objet est un ensemble de propriétés de type clé-valeur. On peut définir un objet à l'aide d'un littéral en notation JSON { ... }</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let etudiant = {
							"nom": "Valjean",
							"prenom": "Jean",
							"age": 35
						}
					</script></code></pre>
					<p>
						On accède aux propriétés d'un objet à l'aide de la notation xxx.yyy:
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							console.log(etudiant.nom)
							>> 'Valjean'
						</script></code></pre>
					</p>
				</section>

				<section>
					<h2>Tableaux</h2>
					<p>En JS, un tableau est une structure pouvant contenir plusieurs éléments <span class="highlight">pas forcément du même type</span></p>
					<pre ><code class="javascript" data-trim data-line-numbers="1-3|5-8"><script type="text/template">
						let tab1 = ["Une chaine", 10, 34.5, true];
						console.log(tab1[1]);
						>> 10

						let tab2 = [];
						tab2[0] = 10;
						tab2[1] = null;
						tab2[2] = undefined
					</script></code></pre>
				</section>

				<section>
					<h2>Tableaux - Méthodes et attributs utiles</h2>
					<pre ><code class="javascript" data-trim data-line-numbers="1-3|1,5-9|7,11-15"><script type="text/template">
						let resultats = [85, 76, 64.5, 92.5, 68, 80, 84.5];
						console.log( resultats.length )
						>> 7

						resultats.push(89);
						console.log( resultats );
						>> [85, 76, 64.5, 92.5, 68, 80, 84.5, 89]
						console.log( resultats.length );
						>> 8
						
						let dernier = resultats.pop();
						console.log( dernier )
						>> 89
						console.log( resultats )
						>> [85, 76, 64.5, 92.5, 68, 84.5]
					</script></code></pre>
				</section>

				<section>
					<h2>Modification d'un objet</h2>
					<ul>
						<li>Les objets en JS n'ont pas de structure pré-établie* (i.e. pas de classes, comme en Java)</li>
						<li>Il est possible d'ajouter/supprimer des propriété à tout moment</li>
					</ul>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let etudiant = {
							"nom": "Valjean",
							"prenom": "Jean",
							"age": 35
						}
						etudiant.moyenne = 85;
						console.log(etudiant);
						>> {"nom": "Valjean", "prenom": "Jean", "age": 35, 
							"moyenne": 85 }
					</script></code></pre>
					<aside class="notes">Il existe en réalité une structure pré-établie: le prototype d'un objet. Nous n'aborderons pas les prototypes dans le cadre de ce cours ni la conception OO qui permet de créer des objets qui partagent le même prototype. Ainsi, tout objet qu'on créera aura son propre prototype </aside>
				</section>

				<section>
					<h2>Modification d'un objet (2)</h2>
					<ul>
						<li>On peut accéder aux propriétés d'un objet comme un tableau associatif: </li>
					</ul>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let etudiant = {
							"nom": "Valjean",
							"prenom": "Jean",
							"age": 35
						}
						etudiant.moyenne = 85;
						etudiant["prenom"]="Jean-Michel";
						console.log(etudiant);
						>> {"nom": "Valjean", "prenom": "Jean-Michel", "age": 35, 
							"moyenne": 85 }
						console.log(etudiant["age"]);
						>> 35
					</script></code></pre>
					
				</section>

				<section>
					<h2>Objets et tableaux</h2>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let resultats = [85, 76, 64.5, 92.5, 68, 80, 84.5];
						resultats.moyenne = 78.65;
						
						console.log( resultats.length );
						>> ????

						console.log( resultats );
						>> ????

						console.log( resultats["moyenne"] )
						>> ????

						console.log( resultats.moyenne )
						>> ????
					</script></code></pre>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-current">Éléments de base du langage</li>
								<li>Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin:0">
								<li class="plan-visited">Variables et types de données</li>
								<li class="plan-visited">Objets et tableaux</li>
								<li class="plan-current">Chaines de caractères</li>
								<li>Fonctions</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Chaines de caractères</h2>
					<ul>
						<li>Le type chaine de caractères (<em>string</em>) est un type de base en JS<br />
							<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
								let cours = "TCH016";
								console.log(cours);
								>> TCH016
							</script></code></pre>
						</li>
						<li>Syntaxe:
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							let s1 = "chaine 1";
							let s2 = "chaine 2"
							let s3 = `chaine 3 est
								sur plusieurs lignes`;
							let nb = 4;
							let s4 = `chaine ${nb}`;
							console.log( s4 );
							>> chaine 4
						</script></code></pre>
						</li>
					</ul>
				</section>
				
				<section>
					<h2>Caractères dans une chaine</h2>
					<ul>
						<li>On accède aux caractères par indice, avec la notation tableau ou la méthode <em>at</em></li>
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							let cours = "TCH016";
							console.log(cours[5]);
							>> 6
							console.log(cours.at(0));
							>> T
						</script></code></pre>
						<li>Une chaine de caractères est immutable
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							let cours = "TCH016";
							cours[5] = 9;	
							console.log( cours );
							>> TCH016
							cours[6] = 'x'
							console.log( cours.length );
							>> 6
						</script></code></pre>
						</li>
					</ul>
				</section>

				<section  class="slidenb" data-slidenb="À connaître!">
					<h2>Chaines : Méthodes utiles</h2>
					<p>Plusieurs méthodes sont disponibles pour manipuler les chaines de caractères</p>
					<table>
						<tr>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" target="_blank">toLowerCase</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase" target="_blank">toUpperCase</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" target="_blank">indexOf</a></td>
						</tr>
						<tr>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf" target="_blank">lastIndexOf</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/includes" target="_blank">includes</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith" target="_blank">startsWith</a></td>
						</tr>
						<tr>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith" target="_blank">endsWith</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/slice" target="_blank">slice</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/substring" target="_blank">substring</a></td>
						</tr>
						<tr>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/substr" target="_blank">substr</a></td>
							<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare" target="_blank">localeCompare</a></td>
							<td></td>
						</tr>
					</table>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-current">Éléments de base du langage</li>
								<li>Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin:0">
								<li class="plan-visited">Variables et types de données</li>
								<li class="plan-visited">Objets et tableaux</li>
								<li class="plan-visited">Chaines de caractères</li>
								<li class="plan-current">Fonctions</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Fonctions</h2>
					<p>Plusieurs façon d'en déclarer:</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						function surfaceCercle(rayon){
							const PI = 3.1416;
							return PI * rayon**2;
						}
					</script></code></pre>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let surfaceCercle = function (rayon){
							const PI = 3.1416;
							return PI * rayon**2;
						}
					</script></code></pre>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let surfaceCercle = rayon => 3.1416 * rayon**2;
					</script></code></pre>
				</section>

				<section>
					<h2>Appel d'une fonction</h2>
					<ul>
						<li>Syntaxe semblable aux autres langages de la famille C: il suffit de spécifier le nom de la fonction, suivi des paramètres effectifs entre parenthèse.
						<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
							let resultat = surfaceCercle( 11.5 );
						</script></code></pre>
						</li>
						<li>Si la fonction est un attribut d'un objet, on l'invoque en utilisant la notation "point"
							<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
								console.log( etudiant.calculerMoyenne() );
							</script></code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Paramètres d'une fonction</h2>
					<ul>
						<li>Aucune règle sur les paramètres: les types sont dynamiquement typés et le nombre de paramètres peut varier du nombre de paramètres défini</li>
						<pre><code class="javascript" data-trim><script type="text/template">
							let somme = function(a, b){
								return a+b;
							}

							console.log( somme(10, 34, 178, 100) );
							>> 44 (10 + 34)
						</script></code></pre>
						<li class="fragment">
							Si un paramètre est omis lors de l'appel, alors sa valeur sera <em>undefined</em>
						</li>
					</ul>
				</section>

				<section>
					<h2>Valeurs de paramètres par défaut</h2>
					<ul>
						<li>Pour éviter qu'un paramètre omis lors de l'appel ait la valeur <em>undefined</em>, il est possible de donner des valeur par défaut aux paramètres: 
						<pre><code class="javascript" data-trim><script type="text/template">
							function direBonjour(nom="Inconnu.e"){
								console.log("Bonjour "+nom);
							}

							direBonjour();
							>> Bonjour Inconnu.e
						</script></code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Valeur de retour</h2>
					<ul>
						<li>Une fonction ne peut retourner plus d'une valeur</li>
						<li>La valeur retournée peut être un type simple (number, string), un objet (ex.: array, ou objet personnalisé), et même une fonction (voir plus loin)</li>
						<li>Une fonction qui ne retourne aucune valeur retournera la valeur <em>undefined</em></li>
					</ul>
				</section>

				<section>
					<h2>Fonctions variadiques</h2>
					<ul>
						<li>On appelle une <strong>fonction variadique</strong> une fonction dont le nombre total de paramètres n'est pas défini d'avance</li>
						<li>En JS, toute fonction peut recevoir plus d'arguments que spécifié, il suffit alors d'accéder aux autres paramètres à l'aide du tableau <em><strong>arguments</strong></em>
						<pre><code class="javascript" data-trim><script type="text/template">
							let somme = function(val1, val2){
								let resultat = val1+val2;
								for (let i=2; i < arguments.length; i++) { 
									resultat += arguments[ i ];	
								}
								return resultat;
							}
						</script></code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Fonctions variadiques</h2>
					<ul>
						<li>ES6 a introduit une nouvelle syntaxe pour définir des fonctions variadiques en utilisant la notation ellipse (...)
							<pre><code class="javascript" data-trim><script type="text/template">
								let somme = function(val1, val2, ...autres){
									let resultat = val1+val2;
									for (let i=0; i < autres.length; i++) { 
										resultat += autres[ i ];	
									}
									return resultat;
								}
							</script></code></pre>
						</li>

						<li class="highlight2"> 
							Il est préférable d'utiliser cette syntaxe car elle améliore la maintenabilité du code.
						</li>
					</ul>
				</section>

				<section>
					<h2>Fonctions = Données</h2>
					<p>En JS, une fonction est une donnée qu'on peut affecter...</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						function surfaceCercle(rayon){
							const PI = 3.1416;
							return PI * rayon**2;
						}
						let sc = surfaceCercle;
						console.log( sc(10) )
						>> 314.16
					</script></code></pre>
				</section>

				<section>
					<h2>Fonctions = Données</h2>
					<p>On peut même retourner une fonction...</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let creerPuissance = function (puissance){
							let resultat =  function(valeur){ 
								return valeur ** puissance; 
							}

							return resultat;
						}

						carre = creerPuissance(2); 
						// Carre est une fonction créée par creerPuissance
						console.log( carre(10) );
						>> 100
					</script></code></pre>
				</section>

				<section>
					<h2>Fonctions = Données</h2>
					<p>Et passer une fonction en paramètre...</p>
					<pre class="fragment"><code class="javascript" data-trim><script type="text/template">
						let calculer = function (valeur1, valeur2, operation){
							let resultat = operation(valeur1, valeur2);

							return resultat;
						}

						let somme = (v1, v2) => v1 + v2;
						
						console.log( calculer(10, 17, somme) );
						>> 27
					</script></code></pre>
				</section>

				<section>
					<h2>Fonctions d'ordre supérieur</h2>
					<ul>
						<li>On appelle <strong>fonction d'ordre supérieur</strong> une fonction qui reçoit une autre fonction en argument, ou qui retourne une fonction.</li>
						<li>Les fonctions d'ordre supérieur sont un mécanisme puissant qui offre des flexibilités et des applications intéressantes.</li>
						<li>Spécifiquement, les fonctions itératives sur les tableaux suivantes (à connaître): 
							<table>
								<tr>
									<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank">Map</a></td>
									<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank">Reduce</a></td>
									<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank">Filter</a></td>
									<td><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank">forEach</a></td>
								</tr>
							</table>
						</li>
					</ul>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-current">Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li class="plan-current">Rappel: Document HTML = Arbre</li>
								<li>API de parcours du DOM/BOM</li>
								<li>Modification dynamique du DOM</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2 data-id="structure_titre">Rappel: Arborescence HTML</h2>
					<img  data-id="structure_code" src="../ch2_html/images/html_tree.png">
				</section>

				<section>
					<h2>DOM: Document Object Model</h2>
					<ul>
						<li class="fragment">Le DOM est une une structure hiérarchique qui représente le contenu d'une page sous forme d'une arborescence</li>
						<li class="fragment">L'arbre peut-être manipulé avec du code Javascript: tout changement au DOM se reflète de façon dynamique sur le rendu de la page (à l'écran)</li>	
						<li class="fragment">La manipulation se fait à travers une API commune à tous les navigateurs</li>
						<li class="fragment highlight2">Le DOM est une entité qui évolue constamment dans les pages/application WEB modernes</li>
					</ul>
				</section>

				<section>
					<h2>API du DOM</h2>
					<p>Ensemble de fonctions disponibles pour: </p>
					<ul>
						<li>Localiser des éléments de la page</li>
						<li>Modifier des éléments identifiés (contenu, ajout d'enfants, suppression)</li>
						<li>Accéder et agir sur les différentes propriétés des éléments</li>
					</ul>
					<p class="highlight2">Il existe plusieurs DOM (HTML, SVG, XML), mais ils partagent tous la même API normalisée par le W3C.</p>
				</section>

				<section>
					<h2>Construction du DOM depuis le HTML</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html1_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html1_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
						
						<script type="text/javascript">
							var html1 = `
								<!doctype html>
								<html>
									<head>
										<meta />
										<meta />
										<link rel="stylesheet" href="./css/style.css">
									</head>
									<body>
										<div id='conteneur'>
											<p id='p1' class='important rouge'>
												Aller au 
												<span><a>Site de l'ETS</a>
												</span>
											</p>
											<p>Du texte</p>
											<div></div>
										</div>
									</body>
								</html>`;
							document.querySelector("#html1_src pre code").textContent = html1;
							$(function(){
								$('#html1_json').tree({
									data: [htmlToJson(html1, false, false, false)],
									autoOpen: 2,
									buttonLeft: true,
									selectable: false,
									closedIcon: '+',
									openedIcon: '-'
								});
							});
						</script>
					</div>
				</section>

				<section >
					<h2>Méta-modèle du DOM</h2>
					<img src="./images/DOMMetaModel.png" alt="DOMMetaModel" />
				</section>

				<section>
					<h2>Types d'éléments du DOM</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html2_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html2_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
						
						<script type="text/javascript">
							var html2 = `
								<!doctype html>
								<html>
									<head>
										<meta />
										<meta />
										<link rel="stylesheet" href="./css/style.css">
									</head>
									<body>
										<div id='conteneur'>
											<p id='p1' class='important rouge'>
												Aller au 
												<span><a>Site de l'ETS</a>
												</span>
											</p>
											<p>Du texte</p>
											<div></div>
										</div>
									</body>
								</html>`;
							document.querySelector("#html2_src pre code").textContent = html2;
							$(function(){
								$('#html2_json').tree({
									data: [htmlToJson(html2, true, false, false)],
									autoOpen: 2,
									buttonLeft: true,
									selectable: false,
									closedIcon: '+',
									openedIcon: '-'
								});
							});
						</script>
					</div>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-current">Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li class="plan-visited">Rappel: Document HTML = Arbre</li>
								<li class="plan-current">API de parcours du DOM/BOM</li>
								<li>Modification dynamique du DOM</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Sélection d'éléments</h2>
					<p>Quatre approches/méthodes de sélection (démontrées en classe)</p>
					<ul>
						<li><em><a href="https://developer.mozilla.org/fr/docs/Web/API/Document/getElementById" target="_blank">
									getElementById</a></em></li>
						<li><em><a href="https://developer.mozilla.org/fr/docs/Web/API/Document/getElementsByTagName" target="_blank">
							getElementsByTagName</a></em></li>
						<li><em><a href="https://developer.mozilla.org/fr/docs/Web/API/Document/getElementsByClassName" target="_blank">
							getElementsByClassName</a></em></li>
						<li><em>
							<a href="https://developer.mozilla.org/fr/docs/Web/API/Document/querySelector" target="_blank">
								querySelector</a> / 
							<a href="https://developer.mozilla.org/fr/docs/Web/API/Document/querySelectorAll" target="_blank">
								querySelectorAll</a></em></li>
					</ul>
				</section>

				<section>
					<h2>Sélection par Identifiant</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html3_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html3_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const conteneur = document.getElementById('conteneur');
					</code></pre>	
					<script type="text/javascript">
						var html3 = `
							<!doctype html>
							<html>
								<head>
									<meta />
									<meta />
									<link rel="stylesheet" href="./css/style.css">
								</head>
								<body>
									<div id='conteneur'>
										<p id='p1' class='important rouge'>
											Aller au 
											<span><a>Site de l'ETS</a>
											</span>
										</p>
										<p id='texte'>Du texte</p>
										<div></div>
									</div>
								</body>
							</html>`;
						document.querySelector("#html3_src pre code").textContent = html2;
						$(function(){
							$('#html3_json').tree({
								data: [htmlToJson(html3, false, true, false)],
								autoOpen: 2,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Sélection par Classe</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html4_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html4_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const hots = document.getElementsByClassName('hot');
						//NOTE: `hots` est un tableau!!
					</code></pre>	
					<script type="text/javascript">
						var html4 = `
							<!doctype html>
							<html>
								<head>
									<meta />
									<meta />
									<link rel="stylesheet" href="./css/style.css">
								</head>
								<body>
									<div id='conteneur'>
										<p class='para hot' class='important rouge'>
											Aller au 
											<span><a>Site de l'ETS</a>
											</span>
										</p>
										<p id='texte'>Du texte</p>
										<div class='hot'></div>
									</div>
								</body>
							</html>`;
						document.querySelector("#html4_src pre code").textContent = html4;
						$(function(){
							$('#html4_json').tree({
								data: [htmlToJson(html4, false, false, true)],
								autoOpen: 2,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Sélection par Type</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html5_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html5_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const paragraphes = document.getElementsByTagName('p');
						//NOTE: paragraphes est un tableau!!
					</code></pre>	
					<script type="text/javascript">
						var html5 = `
							<!doctype html>
							<html>
								<head>
									<meta />
									<meta />
									<link rel="stylesheet" href="./css/style.css">
								</head>
								<body>
									<div id='conteneur'>
										<p class='para hot' class='important rouge'>
											Aller au 
											<span><a>Site de l'ETS</a>
											</span>
										</p>
										<p id='texte'>Du texte</p>
										<div class='hot'></div>
									</div>
								</body>
							</html>`;
						document.querySelector("#html5_src pre code").textContent = html5;
						$(function(){
							$('#html5_json').tree({
								data: [htmlToJson(html5, false, false, false)],
								autoOpen: 2,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Sélection par Sélecteur 1/2</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html6_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html6_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const lesHot = document.querySelector('#conteneur p.hot');
						//NOTE: Un seul élément est sélectionné (le premier 
						// qui est satisfaisant)
					</code></pre>	
					<script type="text/javascript">
						var html6 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html6_src pre code").textContent = html6;
						$(function(){
							$('#html6_json').tree({
								data: [htmlToJson(html6, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Sélection par Sélecteur 2/2</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html7_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html7_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const lesHot = document.querySelectorAll('#conteneur p.hot');
						//NOTE: Tous les éléments satisfaisants au sélecteur seront
						// retournés (dans un tableau)
					</code></pre>	
					<script type="text/javascript">
						var html7 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html7_src pre code").textContent = html7;
						$(function(){
							$('#html7_json').tree({
								data: [htmlToJson(html7, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Sélection en sous-arbre</h2>
					<ul>
						<li>Les méthodes <em>`getElementsByClassName`</em>, <em>`getElementsByTagName`</em> et <em>`querySelector`</em> sont implémentées 
							dans <em>`Element`</em> (sont disponibles pour tout objet de type <em>Element</em>)</li>
						<li>Utiliser ces fonctions sur un élément en particulier (pas document) exécutera la requête comme si l’élément était la racine de l'arbre.</li>
						<li>Les éléments retournés seront seulement ceux qui sont descendants de l'élément.</li>
					</ul>
					<pre class="fragment"><code class="javascript" data-trim>
						const conteneur = document.getElementById('conteneur');
						const paragraphes = conteneur.getElementsByTagName('p');
						//NOTE: Seuls les paragraphes descendants du div#conteneur 
						//seront sélectionnées!
					</code></pre>	
				</section>

				<section class="slidenb" data-slidenb="Lecture seule!">
					<h2>Parcours du DOM</h2>
					<ul>
						<li>Une fois un élément sélectionné, il est souvent désirable de parcourir l'ensemble des éléments qui lui sont liés de façon hiérarchique.</li>
						<li class="fragment">Plusieurs propriétés de chaque élément permettent d'accéder - de proche en proche - aux enfants, frères et parents, de l'élément :
							<ul>
								<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/parentNode">parentNode</a></li>
								<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/childNodes">childNodes</a></li>
								<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/firstChild">firstChild</a>, <a href="https://developer.mozilla.org/fr/docs/Web/API/Node/firstChild">lastChild</a></li>
								<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/nextSibling">nextSibling</a>, <a href="https://developer.mozilla.org/fr/docs/Web/API/Node/previousSibling">previousSibling</a></li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h2>Noeud parent</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html8_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre class="fragment"><code id="html8_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre class="fragment"><code class="javascript" data-trim>
						const lien = document.querySelector('div p a');
						const leSpan = lien.parentNode;
					</code></pre>	
					<script type="text/javascript">
						var html8 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html8_src pre code").textContent = html8;
						$(function(){
							$('#html8_json').tree({
								data: [htmlToJson(html8, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Noeuds Enfants</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html9_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre><code id="html9_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre><code class="javascript" data-trim>
						const conteneur = document.querySelector('div#conteneur');
						const enfants = conteneur.childNodes;
						//Contient les noeuds p.para.hot, p#texte et div.hot
					</code></pre>	
					<script type="text/javascript">
						var html9 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html9_src pre code").textContent = html9;
						$(function(){
							$('#html9_json').tree({
								data: [htmlToJson(html9, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Premier et dernier enfants</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html10_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre><code id="html10_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre><code class="javascript" data-trim>
						const conteneur = document.querySelector('div#conteneur');
						const premier = conteneur.firstChild; //p.para.hot
						const dernier = conteneur.lastChild; //div.hot
					</code></pre>	
					<script type="text/javascript">
						var html10 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html10_src pre code").textContent = html10;
						$(function(){
							$('#html10_json').tree({
								data: [htmlToJson(html10, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Frères précédent et suivant</h2>
					<div class="two_columns_layout" style="height: 100%; width:90%;">
						<div id="html11_src" class="col" style="font-size: 2rem; width:70%;">
							<pre><code class="html" data-trim></code></pre>
						</div>
						<div class="col" style="min-width: 50%;">
							<pre><code id="html11_json" style="font-size: 3rem; height:100%;"></code></pre>
						</div>
					</div>
					<pre><code class="javascript" data-trim>
						const conteneur = document.querySelector('p#texte');
						const premier = conteneur.previousSibling; //p.para.hot
						const dernier = conteneur.nextSibling; //div.hot
					</code></pre>	
					<script type="text/javascript">
						var html11 = `
							<div id='conteneur'>
								<p class='para hot' class='important rouge'>
									Aller au 
									<span><a>Site de l'ETS</a>
									</span>
								</p>
								<p id='texte' class='hot'>Du texte</p>
								<div class='hot'></div>
							</div>`;
						document.querySelector("#html11_src pre code").textContent = html11;
						$(function(){
							$('#html11_json').tree({
								data: [htmlToJson(html11, false, true, true, true)],
								autoOpen: true,
								buttonLeft: true,
								selectable: false,
								closedIcon: '+',
								openedIcon: '-'
							});
						});
					</script>
				</section>

				<section>
					<h2>Contenu d'un élément</h2>
					<p>Trois méthodes pour lire le contenu d'un élément (et pour le modifier!)</p>
					<ul>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/innerText">innerText</a></li>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Element/innerHTML">innerHTML</a></li>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/textContent">textContent</a></li>
					</ul>
					<blockquote><a href="./editeur.html?exemple=0">>> Démonstration</a></blockquote>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-current">Manipulation du DOM</li>
								<li>Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li class="plan-visited">Rappel: Document HTML = Arbre</li>
								<li class="plan-visited">API de parcours du DOM/BOM</li>
								<li class="plan-current">Modification dynamique du DOM</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Création d'un nouvel élément</h2>
					<ul>
						<li>La méthode document.createElement permet de créer un élément du type spécifié.
							<pre><code class="javascript" data-trim>
								//Création d'un nouveau paragraphe
								const nouveauParagraphe = document.createElement("p");
								//Définition du contenu du paragraphe
								nouveauParagraphe.textContent = 
									"Ceci est le contenu du nouveau paragraphe";
							</code></pre>
						</li>
						<li class="highlight2 fragment">Le nouvel élément n'est pas ajouté à la page, il faut le lier à l'arbre du DOM</li>
					</ul>
				</section>

				<section>
					<h2>Ajout d'éléments dans le DOM</h2>
					<ul>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Element/append">elt.append(...)</a>: Ajoute un ou plusieurs éléments après le dernier enfant de <em>elt</em></li>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/appendChild">elt.appendChild(...)</a>: Ajoute <strong>un</strong> élément comme dernier enfant de <em>elt</em>. L'enfant ajouté est retourné.</li>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Node/insertBefore">elt.insertBefore(nouv , ref)</a>: Ajoute le noeud <em>nouv</em> comme enfant de <em>elt</em> avant l'élément <em>ref</em></li>
					</ul>
					<blockquote><a href="./editeur.html?exemple=1">>> Démonstration</a></blockquote>
				</section>

				<section>
					<h2>Suppression d'éléments</h2>
					<ul>
						<li>On utilise la méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/Element/remove">elt.remove()</a> pour supprimer un élément de l'arbre.
							<pre><code class="javascript" data-trim>
								const elt = document.querySelector("#mon_element");
								elt.remove(); //L'élément disparaît de l'écran
							</code></pre>
						</li>
						<li>Si on dispose du parent, on peut utiliser la méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/Node/removeChild">parent.removeChild(elt)</a>, qui retourne l'élément supprimé (pour l'ajouter ailleurs éventuellement)
							<pre><code class="javascript" data-trim>
								const conteneur = document.querySelector("#conteneur");
								//On supprime le 3e enfant de conteneur
								const supprime = 
									conteneur.removeChild( conteneur.childNode[2] );
							</code></pre>
						</li>
					</ul>
					
				</section>

				<section>
					<h2>Attributs HTML - Ajout/Modification</h2>
					<p>Deux façons pour modifier les attributs d'un élément: </p>
					<ol>
						<li><strong>Directement en utilisant la notation point (.): </strong>
							<pre><code class="javascript" data-trim>
								const a = document.createElement('a');
								a.href = "https://www.etsmtl.ca";
								a.target = "_blank";
								let valeur = a.target;
							</code></pre>
						</li>
					</ol>
					<ul>
						<li class="fragment">L'approche la plus simple</li>
						<li class="fragment">Certains attributs s'appelle différemment en JS qu'en HTML (ex.: <code>className</code>)</li>
						<li class="fragment">Certains attributs spéciaux ne fonctionnent pas (ex.: <code>data-extra-info</code>)</li>
					</ul>
				</section>

				<section>
					<h2>Attributs HTML - Ajout/Modification</h2>
					<p>Deux façons pour modifier les attributs d'un élément: </p>
					<ol>
						<li>Directement en utilisant la notation point (.)</li>
						<li><strong>En utilisant la méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/Element/setAttribute"><code>setAttribute</code></a>:</strong> 
							<pre><code class="javascript" data-trim>
								const a = document.createElement('a');
								a.setAttribute('href', "https://www.etsmtl.ca");
								a.setAttribute('target', "_blank");
							</code></pre>
						</li>
					</ol>
					<ul>
						<li class="fragment">Plus homogène: fonctionne toujours de la même façon quelque soit l'attribut</li>
						<li class="fragment">Ne respecte pas la casse (case insensitive) contrairement à la notation (.)</li>
						<li class="fragment">Méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/Element/getAttribute"><code>getAttribute</code></a> pour la lecture</li>
					</ul>
				</section>

				<section>
					<h2>Attributs HTML - Suppression</h2>
					<ul>
						<li><strong>En utilisant la méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/Element/removeAttribute"><code>removeAttribute</code></a>:</strong> 
							<pre><code class="javascript" data-trim>
								const para = document.createElement('p');
								para.id="un-identifiant";
								para.removeAttribute('id');
							</code></pre>
						</li>
						<li class="fragment highlight2">Définir la valeur à <code>null</code> ne supprime pas un attribut.</li>
					</ul>
				</section>

				<section>
					<h2>Modification du style 1/3</h2>
					<h3>Propriété <code>className</code></h3>
					<ul>
						<li>Modifie l'attribut <code>class</code> de l'élément
							<pre style="width: 100%"><code class="javascript" data-trim>
								const para = document.createElement('p');
								//Définit les classes 'important' et 'citation' au 
								//nouvel élément créé
								para.className = "important citation";
								//équivalent à: 
								//para.setAttribute('class', "important citation");
							</code></pre>
						</li>
						<li>Pratique lorsqu'on doit définir une seule classe, sans conserver les classes existantes.</li>
					</ul>
				</section>

				<section>
					<h2>Modification du style 2/3</h2>
					<h3>Le tableau <code>classList</code> d'un élément</h3>
					<ul>
						<li><a href="https://developer.mozilla.org/fr/docs/Web/API/Element/classList">elt.classList</a>: Renvoie toutes les classes d'un élément</li>
						<li>On utilise les méthodes <code>add</code>, <code>remove</code> et <code>replace</code> pour changer les classes de l'élément
							<pre style="width: 100%"><code class="javascript" data-trim>
								const conteneur = document.querySelector("#conteneur");
								//Ajoute la classe `large` à conteneur
								conteneur.classList.add('large');
								//Supprime la classe `demo` de conteneur
								conteneur.classList.remove('demo');
							</code></pre>
						</li>
						<li>La méthode <code>toggle</code> est utile pour désactiver et réactiver une classe.</li>
					</ul>
				</section>

				<section>
					<h2>Modification du style 3/3</h2>
					<h3>Ajout de style en-ligne à un élément</h3>
					<ul>
						<li>La propriété <code>style</code> regroupe toutes les déclarations de style définies en-ligne sur un élément
							<pre style="width: 100%"><code class="javascript" data-trim>
								const conteneur = document.querySelector("#conteneur");
								conteneur.style.width = '100fr';
							</code></pre>
						</li>
						<li>Les noms des déclarations CSS doivent être convertis en `camelCase`
							<pre style="width: 100%"><code class="javascript" data-trim>
								  conteneur.style.backgroundColor = 'lightgreen';
								//Au lien de: 
								//conteneur.style.background-color = 'lightgreen'; //INCORRECT
							</code></pre>
						</li>
					</ul>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-visited">Manipulation du DOM</li>
								<li class="plan-current">Programmation événementielle</li>
								<li>Cadriciels et librairies</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li>Modèle d'exécution asynchrone</li>
								<li>Programmation événementielle et boucle d'événements</li>
								<li>Gestion des événements en Javascript</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Modèle d'exécution</h2>
					<ul>
						<li>Le code Javascript s'exécute de façon séquentielle, une instruction à la fois</li>
						<li>Comme pour le langage C, tout appel de fonction est ajouté dans une pile d'exécution (<em>stack</em>) qui sera dépilée dès la fin de la fonction</li>
					</ul>
					<blockquote><a href="https://anisboubaker.github.io/TCH056/diapos/js_loupe/?code=ZnVuY3Rpb24gcHJvZHVpdChhLCBiKXsKICAgIHJldHVybiBhKmI7Cn0KCmZ1bmN0aW9uIGNhcnJlKGEpewogICAgcmV0dXJuIHByb2R1aXQoYSwgYSk7Cn0KCmZ1bmN0aW9uIHVuX2NhbGN1bChhLCBiKXsKICAgIGxldCByMSA9ICBjYXJyZShhKTsKICAgIAogICAgbGV0IHIyID0gIHByb2R1aXQoYSwgYik7CiAgICAKICAgIHJldHVybiByMStyMjsKfQoKY29uc29sZS5sb2codW5fY2FsY3VsKDEwLCAxMSkpOw%3D%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D">
						>> Démonstration</a></blockquote>
				</section>

				<section>
					<h2>Exécution parallèle</h2>
					<ul>
						<li class="fragment" data-fragment-index="1">Il est possible d'exécuter des tâches en parallèle en C ou en Java (<em>Threads</em>)</li>
						<li class="fragment" data-fragment-index="2">Le Javascript est un langage mono-threadé mais qui permet un semblant de parallélisme grâce à l'exécution <strong>asynchrone</strong> et la <strong>boucle d'événements (event loop)</strong></li>
						<p class="fragment note" data-fragment-index="2">Note: L'introduction récente des <em>WebWorkers</em> permet d'effectuer un vrai parallélisme (pas au programme)</p>
					</ul>
				</section>

				<section>
					<h2>Exécution Asynchrone</h2>
					<ul>
						<li>Veut dire: lancer l'exécution d'un traitement et ne pas attendre la réponse</li>
						<li>La pile d'exécution poursuit son exécution normale</li>
						<li>Lorsque la réponse est obtenue, un <strong>événement</strong> est déclenché</li>
						<li>On traite la réponse liée à l'évènement lorsque la pile d'exécution sera terminée</li>
					</ul>
				</section>

				<section>
					<h2>Exécution asynchrone: Pourquoi?</h2>
					<ul>
						<li>Certains traitements nécessitent un temps d'exécution long (> quelques ms)</li>
						<li>Ce genre de traitements bloquent la pile d'exécution si ils étaient exécutés de façon synchrone</li>
						<li class="highlight2">Ceci affecte la réactivité de la page: aucune mise à jour de la page ne peut avoir lieu tant que la pile d'exécution n'est pas terminée!</li>
					</ul>
					<blockquote><a href="https://anisboubaker.github.io/TCH056/diapos/js_loupe/?code=ZnVuY3Rpb24gcHJvZHVpdChhLCBiKXsKICAgIHJldHVybiBhKmI7Cn0KCmZ1bmN0aW9uIHRyYWl0ZW1lbnRfbGVudCgpewogICAgZm9yKGxldCBpPTA7IGk8NTsgaSsrKQogICAgewogICAgICAgIDsKICAgIH0KICAgIAp9Cgpjb25zb2xlLmxvZygnROlidXQnKTsKCnRyYWl0ZW1lbnRfbGVudCgpOwoKY29uc29sZS5sb2coJ0ZpbicpOw%3D%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D">
						>> Illustration</a></blockquote>
				</section>

				<section>
					<h2>Exécution asynchrone: Dans quel contexte?</h2>
					<ul>
						<li>Exécution temporisée (avec <a href="https://developer.mozilla.org/fr/docs/Web/API/setTimeout"><code>setTimeout</code></a> 
							et <a href="https://developer.mozilla.org/en-US/docs/Web/API/setInterval"><code>setInterval</code></a>)</li>
						<li>Suite à des événements qui se produisent sur la page pour lesquels on a défini un gestionnaire d'événement (ex.: click, déplacement de souris, clavier, etc.)</li>
						<li>Toute requête de communication avec une machine distante.</li>
						<li>Tout calcul ou traitement qui nécessite un temps supérieur à la milliseconde</li>
					</ul>
				</section>

				<section>
					<h2><code>setTimeout</code></h2>
					<p>Fonction qui permet de programmer une exécution différée d'un traitement après un délai en <em>ms</em></p>
					<p>Prend deux arguments: </p>
					<ol>
						<li><strong>Une fonction de rappel</strong> qui sera appelée dès que le délai sera écoulé</li>
						<li>Un délai en millisecondes</li>
					</ol>
					<pre style="width: 100%"><code class="javascript" data-trim>
						let faireQqeChose = function(){
							alert("Délai écoulé!");
						}
						//Exécution après 2 secondes
						setTimeout(faireQqeChose, 2000);
					</code></pre>
				</section>

				<section>
					<h2><code>setTimeout</code> - Fonction anonyme</h2>
					<ul>
						<li class="fragment">Il est possible de passer une fonction de rappel anonyme: 
							<pre style="width: 100%"><code class="javascript" data-trim>
								//Exécution après 2 secondes
								setTimeout(function(){
									alert("Délai écoulé!");
								}, 2000);
							</code></pre>
						</li>
						<li class="fragment">Elle peut même être fléchée: 
							<pre style="width: 100%"><code class="javascript" data-trim>
								//Exécution après 2 secondes
								setTimeout( () => alert("Délai écoulé!") , 2000);
							</code></pre>

						</li>
					</ul>
				</section>

				<section>
					<h2><code>setTimeout</code> - Question</h2>
					<ul>
						<li>Après combien de temps le message d'alerte s'affichera?</li>
						<li>Qu'est-ce qui s'affichera en premier (l'alerte ou dans la console?)</li>
					</ul>
					<pre style="width: 100%"><code class="javascript" data-trim>
						//Exécution après 2 secondes
						setTimeout( () => alert("Délai écoulé!") , 2000);
						let resultat = 0n;
						for(let i=0; i &lt; 600000000; i++){
							resultat += BigInt(i);
						}
						console.log(`Le résultat est: ${resultat}`);
					</code></pre>
					<blockquote><a href="https://anisboubaker.github.io/TCH056/diapos/js_loupe/?code=Ly9FeOljdXRpb24gYXBy6HMgMiBzZWNvbmRlcwpmdW5jdGlvbiBhZmZpY2hlckFsZXJ0ZSgpewogICAgCiAgICBhbGVydCgiROlsYWkg6WNvdWzpISIpOwogICAgCn0KCnNldFRpbWVvdXQoIGFmZmljaGVyQWxlcnRlICwgMjAwMCk7CgpsZXQgcmVzdWx0YXQgPSAwOwoKZm9yKGxldCBpPTA7IGkgPCAxMDsgaSsrKXsKICAgIAoJcmVzdWx0YXQgKz0gaTsKCQp9CgoKY29uc29sZS5sb2coJ0xlIHLpc3VsdGF0IGVzdDogJytyZXN1bHRhdCk7!!!PGJ1dHRvbj5DbGljayBtb2khPC9idXR0b24%2B">
						>> Illustration</a></blockquote>
				</section>

				<section>
					<h2>Événements</h2>
					<ul>
						<li>Lorsque le navigateur traite et affiche un document Web, une multitude d'événements se produisent en permanence</li>
						<li>La grande majorité des événements qui se déclenchent sont ignorés</li>
						<li>Ceux qu'on a choisi de traiter (en fournissant un gestionnaire d’événement) seront considérés et du code sera exécuté</li>
					</ul>
					<p class="note">Exemple: le timeout, défini avec setTimeout, est un événement qui se produit lorsque le délai du timeout est expiré.</p>
				</section>

				<section>
					<h2>Exemples d'événements</h2>
					<ul>
						<li><strong>Souris: </strong>click, dblclick, mousedown, mouseup, mousemove, mouseover, mouseout, mouseenter, mouseleave</li>
						<li><strong>Clavier: </strong>keydown, keypress, keyup</li>
						<li><strong>Formulaires: </strong>blur, change, focus, focusin, focusout, input, invalid, reset, search, select, submit</li>
						<li><strong>Presse papier: </strong>copy, cut, paste</li>
						<li><strong>Touch: </strong>touchstart, touchmove, touchend, touchcancel</li>
					</ul>
					<p class="note">Note: Cette liste est loin d'être exhaustive!</p>
				</section>

				<section>
					<h2>Gestion des événements</h2>
					<ul>
						<li>Pour réagir face à un événement, il faut "écouter" l'événement en définissant un gestionnaire d'événement
							sur l'élément de la page concerné</li>
						<li class="fragment">La méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/EventTarget/addEventListener"><code>addEventListener()</code></a> 
							permet d'ajouter un gestionnaire d'événement pour un événement spécifique.</li>
						<li class="fragment">La méthode <a href="https://developer.mozilla.org/fr/docs/Web/API/EventTarget/removeEventListener"><code>removeEventListener()</code></a> 
							permet de supprimer un gestionnaire d'événement pour un événement spécifique.</li>
						<li class="fragment">Ces méthodes sont définies dans la "classe" EventTarget (qui englobe presque tous les types!).</li>	
					</ul>
				</section>

				<section>
					<h2>Ajout d'un gestionnaire d'événement</h2>
					<ul>
						<li>La fonction <code>addEventListener</code> reçoit, par défaut, deux paramètres: (1) le type d'événement à écouter et (2) la fonction de rappel</li>
						<li>Elle doit être définie sur un élément pour lequel on souhaite écouter l'événement</li>
					</ul>
					<pre style="width: 100%"><code class="javascript" data-trim>
						let mon_bouton = document.querySelector('button#mon-bouton');
						mon_bouton.addEventHandler(
							'click', 
							function(){alert("Bouton cliqué!")}
						);
						//La fonction anonyme sera exécutée à chaque fois qu'on 
						//clique sur le bouton.
					</code></pre>
				</section>

<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-visited">Manipulation du DOM</li>
								<li class="plan-visited">Programmation événementielle</li>
								<li class="plan-current">Cadriciels et librairies: JQuery et Axios</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li>Qu'est-ce que JQuery?</li>
								<li>Installation de jQuery</li>
								<li>Sélecteurs</li>
								<li>Manipulation du DOM</li>
								<li>Gestion des événements</li>
								<li>Effets et animations</li>
								<li>Requêtes AJAX</li>
								<li>La librairie Axios</li>
							</ul>
						</div>
					</div>
				</section>


				<section>
					<h2>Qu'est-ce que jQuery?</h2>
					<ul>
						<li>Librairie JavaScript rapide, petite et riche en fonctionnalités</li>
						<li>Vise à faciliter la manipulation du document HTML, la gestion des événements, l'animation, et les requêtes</li>
						<li>API facile à utiliser qui fonctionne compatible avec la majorité des navigateurs</li>
						<li>Grande communauté de développeurs et une vaste gamme de plugins disponibles</li>
						<li>Désavantage: une API différente de celle du DOM</li>
					</ul>
				</section>

				<section>
					<h2>Installation de jQuery</h2>
					<p>Comme toute librairie Javascript, il est possible de: </p>
					<ul>
						<li>Télécharger jQuery dans votre projet localement depuis le site de jQuery</li>
						<li>Inclure la librairie via CDN:
							<pre><code class="html" data-trim><script type="text/template">
								<script src="
								https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js
								"></script>
							</script></code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Première utilisation de jQuery</h2>
					<p>jQuery déclare sa fonction principale <code>$</code> qui agit comme sélecteur et est le point d'entrée à toutes les fonctionnalités offertes.</p>
					<p class="note">En javascript, le caractère "<code>$</code>" est un caractère permis pour nommer une fonction/variable.</p>
					<pre><code class="js" data-trim">
						//Cache tous les éléments de type p
						$("p").hide();
					</code></pre>
				</section>

				<section>
					<section>
						<h2>Sélection des éléments</h2>
						<ul>
							<li>Syntaxe de base pour la sélection:
								<pre><code class="javascript" data-trim>
									$(selecteur)
								</code></pre>
							</li>
							<li>"selecteur" peut-être une chaine de caractères avec un sélecteur de type CSS ou un élément du DOM
								<pre><code class="javascript" data-trim>
									$('#conteneur div>p')
									$(document)
								</code></pre>
							</li>
							<li>Le sélecteur retourne un objet jQuery (et <strong>PAS un élément du DOM</strong>). On utilise 
								la méthode <code>get</code> pour obtenir le noeud du DOM correspondant à un objet jQuery.
								<p class="note" style="display: inline-block">Défilez vers le bas pour voir un exemple de code. </p>
							</li>
						</ul>
					</section>
					<section>
						<h2>Sélection: Objets jQuery</h2>
						<pre><code class="javascript" data-trim>
							let header_jq = $('header#top_page');
							let header_dom = $('header#top_page').get();

							//Pour changer le contenu de top_page: 
							header_jq.text("Allô"); //méthode 1: jQuery 
							header_dom.textContent = "Allô"; //méthode 2: DOM

							//Si le sélecteur retourne plusieurs éléments, 
							//la méthode get prend un indice (0 par défaut)
							let paragraphe3_dom = $('p').get(2);
						</code></pre>
					</section>
				</section>

				<section>
					<h2>Sélection: <code>jQuery</code> vs <code>querySelector</code></h2>
					<ul>
						<li><code>document.querySelector()</code> retourne uniquement le premier élément qui correspond au 
							sélecteur. Si on souhaite retenir tous les éléments, il faut utiliser <code>document.querySelectorAll()</code>
						</li>
						<li>Si on sélectionne plusieurs éléments, il faut itérer sur les éléments avec une boucle</li>
						<li>jQuery permet d'effectuer un traitement sur le résultat d'un sélection, indépendamment du nombre 
							d'éléments obtenus
							<pre><code class="javascript" data-trim>
								//Toutes les div de classe "solution" seront cachées
								$('div.solution').hide();
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Sélection et chaînage</h2>
					<ul>
						<li>Un sélecteur jQuery retourne un objet jQuery</li>
						<li>Le même objet jQuery est retourné par la majorité des fonctions</li>
						<li>Ceci permet de réaliser des opérations en chaine, comme: 
							<pre><code class="javascript" data-trim>
								$('.maClasse').css('color', 'red').show();
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Manipulation du DOM avec jQuery: Contenu</h2>
					<ul>
						<li><strong>.html()</strong>: Obtenir ou définir le contenu HTML d'un élément
							<pre><code class="javascript" data-trim="">
								$('p#id1').html('<strong>Nouveau contenu</strong>');
							</code></pre>
						</li>
						<li><strong>.text()</strong>: Obtenir ou définir le contenu textuel d'un élément
							<pre><code class="javascript" data-trim="">
								$('p').text('Texte mis à jour');
							</code></pre>
						</li>
						<li><strong>.val()</strong>: Obtenir ou définir l'attribut <em>value</em> pour les éléments de formulaire
							<pre><code class="javascript" data-trim="">
								$("input#prenom[type='text']").val('Marie');
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Manipulation du DOM avec jQuery: Attributs</h2>
					<ul>
						<li><strong>.attr()</strong>: Obtenir ou définir la valeur d'un attribut
							<pre><code class="javascript" data-trim="">
								$('img.missing').attr('src', '/images/missing.jpg');

								let alt = $('a#accueil').attr('alt');
							</code></pre>
						</li>
						<li><strong>.removeAttr()</strong>: Supprime un attribut des éléments sélectionnés
							<pre><code class="javascript" data-trim="">
								//Supprime l'attribut "title" de tous les éléments de type "a" 
								//de la page 
								$('a').removeAttr('title');
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Manipulation du DOM avec jQuery: Classes</h2>
					<ul>
						<li><strong>.addClass()</strong> et <strong>.removeClass()</strong>: 
							Ajout ou suppression d'une ou plusieurs classes à tous les éléments sélectionnés
							<pre><code class="javascript" data-trim="">
								$("p.important").addClass("surbrillance bienVisible");

								//Le chaînage est très utile!
								$("a.externe").removeClass("a-rouge").addClass("a-bleu");
							</code></pre>
						</li>
						<li><strong>.toggleClass()</strong>: Active ou désactive une classe
							<pre><code class="javascript" data-trim="">
								/$('div').toggleClass('encadre');
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Manipulation du DOM avec jQuery: CSS</h2>
					<ul>
						<li><strong>.css()</strong>: Obtenir ou définir la valeur d'une propriété css
							<pre><code class="javascript" data-trim="">
								//change la couleur du texte de tous les div en rouge
								$('div').css('color', 'red');

								//applique plusieurs styles en même temps
								$('div').css({'background-color': 'blue', 
											'font-size': '14px'});
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Gestion des événement avec jQuery</h2>
					<ul>
						<li><strong>.on()</strong>: Attache un ou plusieurs gestionnaires d'événements pour les éléments sélectionnés. 
							<pre><code class="javascript" data-trim="">
								//Cache un élément si il a été cliqué
								$('p').on('click', function() { $(this).hide(); });
							</code></pre>
						</li>

						<li>Il es possible de définir le gestionnaire pour des événements multiples:
							<pre><code class="javascript" data-trim="">
								$('p').on({ 
									mouseenter: function() { $(this).css('color', 'red'); },
									mouseleave: function() { $(this).css('color', 'black'); } 
								});
							</code></pre>
						</li>
						<li><strong>.off()</strong>: Supprime un gestionnaire d'événement. 
							<pre><code class="javascript" data-trim="">
								$('#monBouton').off('click');
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Gestion des événement avec jQuery: Délégation</h2>
					<ul>
						<li>La délégation consiste à définir des gestionnaires d'événements pour des éléments, mais au niveau de leur parent</li>
						<li>Le gestionnaire d'événement s'appliquera ainsi à tous les enfants concernés, actuels et futurs!</li>
						<li>Exemple: <p class="note" style="display: inline-block;">Source: jquery.com</p>
							<pre><code class="java" data-trim>
								$( "#list" ).on( "click", "a[href^='http']", 
									function( event ) {
										$( this ).attr( "target", "_blank" );
									}
								);
							</code></pre>
						</li>
					</ul>
				</section>

				<section>
					<h2>Effets et animations</h2>
					<p>Quelques fonctions permettent de créer des effets d'affichage simplement</p>
					<ul style="min-width: 90%;">
						<li>Effets de base:
							<pre><code class="js" data-trim="">
								$('#monElement').hide();
								$('#monElement').show();
								$('#monElement').toggle();
							</code></pre>
						</li>
						<li>Effets d'animation:
							<pre><code class="js" data-trim="">
								$('#monElement').fadeIn();
								$('#monElement').fadeOut();
								$('#monMenu').slideDown();
								$('#monMenu').slideUp();
							</code></pre>
						</li>
						<li><a href="https://api.jquery.com/category/effects/">Liste complète</a></li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Requêtes asynchrones</h2>
						<ul>
							<li>La fonction <strong>.ajax()</strong> permet d'effectuer des requêtes de façon asynchrones</li>
							<li>Pas basé sur les Promesses comme c'est le cas avec <strong>fetch</strong> - utilise uniquement les fonctions de rappel</li>
						</ul>
						<p class="note">Naviguez vers le bas pour afficher un exemple de code avec .ajax()</p>
					</section>
					<section>
						<h2>Exemple de requête PUT avec <code>.ajax()</code></h2>
						<pre style="min-height: 80%;"><code class="javascript" data-trim="">
							$.ajax({
								url: 'https://monapi.com/utilisateurs/123', 
								type: 'PUT',
								data: JSON.stringify({
									nom: 'Valjean',
									prenom: 'Jean'
								}),
								//Type de donnée envoyé
								contentType: 'application/json; charset=utf-8',
								//Type de donnée attendu du serveur
								dataType: 'json',
								//Fonction de rappel exécutée (async) en cas de succès
								success: function(response) {
									// Traitement en cas de succès
									// Supposons que la réponse contienne un objet utilisateur 
									// mis à jour, avec un attribut 'message' de confirmation
									console.log("Mise à jour réussie:", response.message);

									// Affiche également le nom et le prénom mis à jour
									console.log("Informations mises à jour:", response.nom, 
													response.prenom);

									// Par exemple, si vous voulez mettre à jour le contenu 
									// d'un élément HTML 
									$('#infoUtilisateur').html('<p>Mise à jour réussie: '
													+ response.message + 
													+ '. Nom: ' 
													+ response.nom 
													+ ', Prénom: ' 
													+ response.prenom 
													+ '.</p>');
								},
								//Fonction de rappel (async) exécutée en cas d'erreur
								error: function(xhr, status, error) {
									// Traitement en cas d'échec
									console.error("Erreur lors de la mise à jour", 
										status, 
										error);
								}
							});
						</code></pre>
					</section>
				</section>



				<!-- Plan du chapitre -->
				<section  data-transition="convex">
					<h2>Plan du chapitre</h2>
					<div class="two_columns_layout">
						<div class="col menu-principal">
							<ul class="">
								<li class="plan-visited">Introduction</li>
								<li class="plan-visited">Éléments de base du langage</li>
								<li class="plan-visited">Manipulation du DOM</li>
								<li class="plan-visited">Programmation événementielle</li>
								<li class="plan-current">Cadriciels et librairies: JQuery et Axios</li>
							</ul>
						</div>
						<div class="col sous-menu">
							<ul style="margin-top :20px">
								<li class="plan-visited">Qu'est-ce que JQuery?</li>
								<li class="plan-visited">Installation de jQuery</li>
								<li class="plan-visited">Sélecteurs</li>
								<li class="plan-visited">Manipulation du DOM</li>
								<li class="plan-visited">Gestion des événements</li>
								<li class="plan-visited">Effets et animations</li>
								<li class="plan-visited">Requêtes AJAX</li>
								<li>La librairie Axios</li>
							</ul>
						</div>
					</div>
				</section>

				<section>
					<h2>Axios</h2>
					<ul>
						<li>Axios est une bibliothèque JavaScript basée sur les promesses pour effectuer des requêtes HTTP, à la fois dans les navigateurs et avec Node.js.</li>
						<li>API simple et propre pour envoyer des requêtes HTTP asynchrone, travailler avec des promesses, et gérer les réponses.</li>
						<li>Installation de Axios avec un CDN:</li>
					</ul>
					<pre><code class="javascript" data-trim>
						&nbsp;
						<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
						&nbsp;
					</code></pre>
				</section>

				<section>
					<h2>Requête GET</h2>
					<pre><code class="javascript" data-trim="">
						axios.get('https://api.exemple.com/data')
						.then(function (response) {
							// Traite la réponse
							console.log(response.data);
						})
						.catch(function (error) {
							// Gère l'erreur
							console.error(error);
						});
					</code></pre>
					<p><strong>Note:</strong> Le contenu de response.data sera automatiquement traité et converti en fonction de 
						l'entête <code>'Content-Type'</code> envoyée par le serveur</p>
					<p class="note">Il n'est donc pas nécessaire de faire JSON.parse(response.data) si le Content-type est envoyé correctement par le serveur.</p>
				</section>

				<section>
					<h2>Gestion des erreurs avec Axios</h2>
					<ul>
						<li>Si le statut de la réponse est autre que 2xx, Axios considère cela comme une erreur et le traitement se poursuit dans le bloc <code>catch</code></li>
					</ul>
					<pre><code class="javascript" data-trim="">
						axios.get('https://api.exemple.com/data-inexistante')
						.then(function (response) {
							// Ce code ne sera pas exécuté si le serveur répond avec 
							// un statut d'erreur (non 2xx)
							console.log("Réponse réussie:", response.data);
						})
						.catch(function (error) {
							// Ce code est exécuté si le serveur répond avec un 
							// statut d'erreur (non 2xx)
							if (error.response) {
								// La requête a été faite et le serveur a répondu 
								// avec un statut d'erreur
								console.log("Erreur! Statut:", error.response.status);
							} else if (error.request) {
								// La requête a été faite mais aucune réponse
								// n'a été reçue
								console.log("Erreur de requête:", error.request);
							} else {
								// Une erreur s'est produite lors de la mise en 
								// place de la requête
								console.log("Erreur:", error.message);
							}
						});
					</code></pre>
				</section>

				<section>
					<h2>Requête POST</h2>
					<pre><code class="javascript" data-trim="">
						axios.post('https://api.exemple.com/data', {
							nom: 'Valjean',
							prenom: 'Jean'
						})
						.then(function (response) {
							console.log(response.data);
						})
						.catch(function (error) {
							console.error(error);
						});						
					</code></pre>
				</section>

				<section>
					<h2>Requête PUT</h2>
					<pre><code class="javascript" data-trim="">
						axios.put('https://api.exemple.com/utilisateurs/123', {
							nom: 'Martin',
							prenom: 'Luc'
						})
						.then(function (response) {
							console.log(response.data);
						})
						.catch(function (error) {
							console.error(error);
						});											  
					</code></pre>
				</section>

				<section>
					<h2>Requête DELETE</h2>
					<pre><code class="javascript" data-trim="">
						axios.delete('https://api.exemple.com/utilisateurs/123')
						.then(function (response) {
							console.log("Ressource supprimée avec succès.");
						})
						.catch(function (error) {
							console.error(error);
						});									  
					</code></pre>
				</section>

<!-- FIN THE END -->
				<section data-menu-title="Fin">
					<h1>&lt;/Chapitre 04&gt;</h1>
				</section>
			</div>
		</div>

		

		
		<script src="../revealjs/reveal.js"></script>
		<script src="../revealjs/plugin/notes/notes.js"></script>
		<script src="../revealjs/plugin/markdown/markdown.js"></script>
		<script src="../revealjs/plugin/highlight/highlight.js"></script>
		<script src="../revealjs/plugin/menu/menu.js"></script>
		
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				slideNumber: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMenu ], 
				
				menu: {
					side: 'left',
					width: 'wide', //'normal', 'wide', 'third', 'half', 'full', or css valid length
					numbers: false,
					titleSelector: 'h1, h2, h3, h4, h5, h6',
					useTextContentForMissingTitles: true,
					hideMissingTitles: false,
					markers: true,
					custom: false,
					themes: false,
					themesPath: 'dist/theme/',
					transitions: false,
					openButton: true,
					openSlideNumber: false,
					keyboard: true,
					sticky: false,
					autoOpen: true,
					delayInit: false,
					openOnInit: false,
					loadIcons: true
				}
			});
		</script>
		<script src="../timeline/js/timeline.min.js"></script>
		<script>
			timeline(document.querySelectorAll('.timeline'));
			
			Reveal.on( 'slidechanged', event => {
			// event.previousSlide, event.currentSlide, event.indexh, event.indexv
				let panel = document.getElementById("slide_nb");
				if(event.currentSlide.classList.contains("slidenb")){
					panel.textContent = event.currentSlide.dataset.slidenb;
					panel.style.display = "block";
				} else {
					panel.style.display="none";
				}
				
				
			} );			
		</script>
		<script src="./ch4.js"></script>
		<script src="../tree.jquery.js"></script>
	</body>
</html>
